<:wrap user/pubbase.tmpl title=>"Account Signup" userpage=>"register" :>
<:include include/usermessage.tmpl:>
<form name="register_form" method="post" action="<:dyntarget user:>" class="siteuser"><:ifCgi r:>
  <input type="hidden" name="r" value="<:cgi r:>" /><:or:><:eif:><:if User:>
  <p class="alert">You are already logged on as <a href="<:dyntarget user:>"><:user userId:></a>, if this is not you, please <a href="<:dyntarget user logoff:>">logout now</a>.</p><:or User:><:eif User:>

  <fieldset class="account">
    <legend>Account</legend>
    <:if Cfg "site users" nopassword:><:or Cfg:>
    <div class="input userid<:ifError_img userid:> error<:or:><:eif:>">
      <label for="userid"><:error_img userid:> <:cfg "site users" display_userid "Username":>: <span class="required">*</span></label>
      <input type="text" name="userid" id="userid" size="40" value="<:old userid:>" title="<:cfg "site users" display_userid "Username":>" class="required<:ifError_img userid:> error<:or:><:eif:>" />
    </div>
    <div class="input password<:ifError_img password:> error<:or:><:eif:>">
      <label for="password"><:error_img password:> <:cfg "site users" display_password "Password":>: <span class="required">*</span></label>
      <input type="password" name="password" id="password" size="40" value="<:old password:>" title="<:cfg "site users" display_password "Password":>" class="required<:ifError_img password:> error<:or:><:eif:>" />
    </div>
    <div class="input confirm_password<:ifError_img confirm_password:> error<:or:><:eif:>">
      <label for="confirm_password"><:error_img confirm_password:> <:cfg "site users" display_confirm_password "Confirm Password":>: <span class="required">*</span></label>
      <input type="password" name="confirm_password" id="confirm_password" size="40" value="<:old confirm_password:>" title="<:cfg "site users" display_confirm_password "Confirm Password":>" class="required<:ifError_img confirm_password:> error<:or:><:eif:>" />
    </div>
    <:eif Cfg:>
    <div class="input email<:ifError_img email:> error<:or:><:eif:>">
      <label for="email"><:error_img email:> <:cfg "site users" display_email "Email Address":>: <span class="required">*</span></label>
      <input type="text" name="email" id="email" size="40" value="<:old email:>" title="<:cfg "site users" display_email "Email Address":>" class="required<:ifError_img email:> error<:or:><:eif:>" />
    </div>
    <:if Cfg "site users" nopassword:>
    <div class="input confirmemail<:ifError_img confirmemail:> error<:or:><:eif:>">
      <label for="confirmemail"><:error_img confirmemail:> <:cfg "site users" display_confirmemail "Confirm Email":>: <span class="required">*</span></label>
      <input type="text" name="confirmemail" id="confirmemail" size="40" value="<:old confirmemail:>" title="<:cfg "site users" display_confirmemail "Confirm Email":>" class="required<:ifError_img confirmemail:> error<:or:><:eif:>" />
    </div>
    <:or Cfg:><:eif Cfg:>
  </fieldset>

<:if Cfg "site users" info_on_register 1:>

<:if Subscriptions:>
  <fieldset class="newsletter">
    <input type="hidden" name="checkedsubs" value="1" />
    <legend>Newsletter</legend>
    <:iterator begin subscriptions:>
    <div class="checkbox">
      <label><input type="checkbox" name="subscription" value="<:subscription id:>"<:ifSubscribed:> checked="checked"<:or:><:eif:> /><:subscription name:>
        <a href="<:dyntarget user:>?subinfo=1&amp;id=<:subscription id:>" target="_blank">(info)</a>
      </label>
    </div>
    <:iterator end subscriptions:>
    <p class="small">Confirmation will be sent to your email address.</p>
  </fieldset>
<:or Subscriptions:><:eif Subscriptions:>

  <fieldset class="name">
    <legend>Name</legend>
    <div class="input name1<:ifError_img name1:> error<:or:><:eif:>">
      <label for="name1"><:error_img name1:> <:cfg "site users" display_name1 "First Name":>:<:ifRequired name1:> <span class="required">*</span><:or:><:eif:></label>
      <input type="text" name="name1" id="name1" size="40" value="<:old name1:>" title="<:cfg "site users" display_name1 "First Name":>" class="<:ifRequired name1:>required<:or:><:eif:><:ifError_img name1:> error<:or:><:eif:>" />
    </div>
    <div class="input name2<:ifError_img name2:> error<:or:><:eif:>">
      <label for="name2"><:error_img name2:> <:cfg "site users" display_name2 "Last Name":>:<:ifRequired name2:> <span class="required">*</span><:or:><:eif:></label>
      <input type="text" name="name2" id="name2" size="40" value="<:old name2:>" title="<:cfg "site users" display_name2 "Last Name":>" class="<:ifRequired name2:>required<:or:><:eif:><:ifError_img name2:> error<:or:><:eif:>" />
    </div>
  </fieldset>
  <fieldset class="company">
    <legend>Company</legend>
    <div class="input organization<:ifError_img organization:> error<:or:><:eif:>">
      <label for="organization"><:error_img organization:> <:cfg "site users" display_organization "Organisation":>:<:ifRequired organization:> <span class="required">*</span><:or:><:eif:></label>
      <input type="text" name="organization" id="organization" size="40" value="<:old organization:>" title="<:cfg "site users" display_organization "Organisation":>" class="<:ifRequired organization:>required<:or:><:eif:><:ifError_img organization:> error<:or:><:eif:>" />
    </div>
    <div class="input title<:ifError_img title:> error<:or:><:eif:>">
      <label for="title"><:error_img title:> <:cfg "site users" display_title "Title / Role":>:<:ifRequired title:> <span class="required">*</span><:or:><:eif:></label>
      <input type="text" name="title" id="title" size="40" value="<:old title:>" title="<:cfg "site users" display_title "Title / Role":>" class="<:ifRequired title:>required<:or:><:eif:><:ifError_img title:> error<:or:><:eif:>" />
    </div>
  </fieldset>
  <fieldset class="address">
    <legend>Address</legend>
    <div class="input address<:ifError_img address:> error<:or:><:eif:>">
      <label for="address"><:error_img address:> <:cfg "site users" display_address "Address":>:<:ifRequired address:> <span class="required">*</span><:or:><:eif:></label>
      <input type="text" name="address" id="address" size="40" value="<:old address:>" title="<:cfg "site users" display_address "Organisation":>" class="<:ifRequired address:>required<:or:><:eif:><:ifError_img address:> error<:or:><:eif:>" />
    </div>
    <div class="input delivStreet2<:ifError_img delivStreet2:> error<:or:><:eif:>">
      <label for="delivStreet2"><:error_img delivStreet2:> <:cfg "site users" display_delivStreet2 "Address 2":>:<:ifRequired delivStreet2:> <span class="required">*</span><:or:><:eif:></label>
      <input type="text" name="delivStreet2" id="delivStreet2" size="40" value="<:old delivStreet2:>" title="<:cfg "site users" display_delivStreet2 "Address 2":>" class="<:ifRequired delivStreet2:>required<:or:><:eif:><:ifError_img delivStreet2:> error<:or:><:eif:>" />
    </div>
    <div class="input city<:ifError_img addrecityss:> error<:or:><:eif:>">
      <label for="city"><:error_img city:> <:cfg "site users" display_city "Suburb":>:<:ifRequired city:> <span class="required">*</span><:or:><:eif:></label>
      <input type="text" name="city" id="city" size="40" value="<:old city:>" title="<:cfg "site users" display_city "Suburb":>" class="<:ifRequired city:>required<:or:><:eif:><:ifError_img city:> error<:or:><:eif:>" />
    </div>
    <div class="input state<:ifError_img state:> error<:or:><:eif:>">
      <label for="state"><:error_img state:> <:cfg "site users" display_state "State":>:<:ifRequired state:> <span class="required">*</span><:or:><:eif:></label>
      <input type="text" name="state" id="state" size="10" value="<:old state:>" title="<:cfg "site users" display_state "State":>" class="<:ifRequired state:>required<:or:><:eif:><:ifError_img state:> error<:or:><:eif:>" />
    </div>
    <div class="input postcode<:ifError_img postcode:> error<:or:><:eif:>">
      <label for="postcode"><:error_img postcode:> <:cfg "site users" display_postcode "Postcode":>:<:ifRequired postcode:> <span class="required">*</span><:or:><:eif:></label>
      <input type="text" name="postcode" id="postcode" size="10" value="<:old postcode:>" title="<:cfg "site users" display_postcode "Postcode":>" class="<:ifRequired postcode:>required<:or:><:eif:><:ifError_img postcode:> error<:or:><:eif:>" />
    </div>
    <div class="input country<:ifError_img country:> error<:or:><:eif:>">
      <label for="country"><:error_img country:> <:cfg "site users" display_country "Country":>:<:ifRequired country:> <span class="required">*</span><:or:><:eif:></label><:if Cfgsection "country selector":>
      <select name="country" id="country" onchange="this.form.checkupdate.click();" title="<:cfg "site users" display_country "Country":>" class="<:ifRequired userid:>required<:or:><:eif:><:ifError_img country:> error<:or:><:eif:>">
        <option value="">Please select a country</option><:iterator begin dyncfgsection "country selector" sort=value:>
        <option value="<:uc [dyncfgentry key]:>"<:if Or [ifEq [old country] [uc [dyncfgentry key]]] [ifEq [old country] [uc [dyncfgentry value]]]:> selected="selected"<:or Or:><:eif Or:>><:dyncfgentry value:></option>
        <:iterator end dyncfgsection:>
      </select><:or Cfgsection:>
      <input type="text" name="country" id="country" size="40" value="<:old country:>" title="<:cfg "site users" display_country "Country":>" class="<:ifRequired country:>required<:or:><:eif:><:ifError_img country:> error<:or:><:eif:>" /><:eif Cfgsection:> 
    </div>
  </fieldset>
  <fieldset class="contact">
    <legend>Contact</legend>
    <div class="input telephone<:ifError_img telephone:> error<:or:><:eif:>">
      <label for="telephone"><:error_img telephone:> <:cfg "site users" display_telephone "Telephone":>:<:ifRequired telephone:> <span class="required">*</span><:or:><:eif:></label>
      <input type="text" name="telephone" id="telephone" size="20" value="<:old telephone:>" title="<:cfg "site users" display_telephone "Telephone":>" class="<:ifRequired telephone:>required<:or:><:eif:><:ifError_img telephone:> error<:or:><:eif:>" />
    </div>
    <div class="input facsimile<:ifError_img facsimile:> error<:or:><:eif:>">
      <label for="facsimile"><:error_img facsimile:> <:cfg "site users" display_facsimile "Facsimile":>:<:ifRequired facsimile:> <span class="required">*</span><:or:><:eif:></label>
      <input type="text" name="facsimile" id="facsimile" size="20" value="<:old facsimile:>" title="<:cfg "site users" display_facsimile "Facsimile":>" class="<:ifRequired facsimile:>required<:or:><:eif:><:ifError_img facsimile:> error<:or:><:eif:>" />
    </div>
    <div class="input delivMobile<:ifError_img delivMobile:> error<:or:><:eif:>">
      <label for="delivMobile"><:error_img delivMobile:> <:cfg "site users" display_delivMobile "Mobile":>:<:ifRequired delivMobile:> <span class="required">*</span><:or:><:eif:></label>
      <input type="text" name="delivMobile" id="delivMobile" size="20" value="<:old delivMobile:>" title="<:cfg "site users" display_delivMobile "Mobile":>" class="<:ifRequired delivMobile:>required<:or:><:eif:><:ifError_img delivMobile:> error<:or:><:eif:>" />
    </div>
  </fieldset>

<:or Cfg:><:eif Cfg:>
<:include include/custom/user_register_custom.tmpl optional:>

<p><span class="required">* Required.</span> <:cfg "site users" required_text "Please provide information for all marked fields.":></p>

<p class="buttons group"><input type="submit" name="register" value="Signup now" accesskey="s" title="AccessKey = s" /></p>
</form>
<p class="group"><span class="left"><a href="<:dyntarget user show_lost_password:>"><:if Cfg "site users" nopassword:>Send your options link<:or Cfg:>Lost your password?<:eif Cfg:></a></span>
<:if Cfg "site users" nopassword:><:or Cfg:>
<span class="right"><a href="<:dyntarget user show_logon r [cgi r] :>">Already have an account?</a></span></p><:eif Cfg:>